{% extends 'faking/base_auth.html' %}

{% block header %}
{% include 'faking/snippet_auth.html' with title="Passwort ändern" %}
{% endblock %}

{% block body %}
<form method="post">
    {% csrf_token %}

    <div class="field">
        <label class="label" for="{{ form.old_password.id_for_label }}">{{ form.old_password.label }}</label>

        <div class="control">
            <input id="{{ form.old_password.id_for_label }}" type="password" class="input" name="old_password" autocomplete="current-password" autofocus required>
        </div>

        {% for error in form.old_password.errors %}
        <p class="help is-danger">{{ error }}</p>
        {% endfor %}
    </div>

    <div class="field">
        <label class="label" for="{{ form.new_password1.id_for_label }}">{{ form.new_password1.label }}</label>

        <div class="control">
            <input id="{{ form.new_password1.id_for_label }}" type="password" class="input" name="new_password1" autocomplete="new-password" required>
        </div>

        {% for error in form.new_password1.errors %}
        <p class="help is-danger">{{ error }}</p>
        {% endfor %}
    </div>

    <div class="field">
        <label class="label" for="{{ form.new_password2.id_for_label }}">{{ form.new_password2.label }}</label>

        <div class="control">
            <input id="{{ form.new_password2.id_for_label }}" type="password" class="input" name="new_password2" autofocus autocomplete="new-password" required>
        </div>

        {% for error in form.new_password2.errors %}
        <p class="help is-danger">{{ error }}</p>
        {% endfor %}
    </div>

    <button type="submit" class="button is-primary">Passwort ändern</button>

    {% for error in form.non_field_errors %}
    <p class="help is-danger">{{ error }}</p>
    {% endfor %}
</form>
{% endblock %}
